<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vetor</title>
   <style>
       *{
           font-family: Calibri, Arial, sans;
       }
       #fita{
           background-color: khaki;
           font-family: Consolas, "Courier New", monospace;
           text-align: right;
           font-size: 20px;
           width: 250px;
           padding: 20px;
           margin: 30px auto 0 auto;
           box-shadow: 2px 2px 6px rgb(0, 0, 0, 0.3);
       }
       #fita p {
            font-family: Consolas, "Courier New", monospace;
            
       }
       #total{
           font-weight: bold;
       }
   </style>
</head>
<body>
    <h1>Calculadora com registro</h1>
    <label for="num">Número:</label>
    <input type="number" id="num" value="0">
    <button id="limpar">Limpar</button>
    <div id="fita">
        <hr>
        <p id="total">0</p>

    </div>
    <script>
        'use strict'
        const elNum = document.querySelector('#num');
        const elLimpar = document.querySelector("#limpar");
        const elFita = document.querySelector("#fita");
        let elTraco = document.querySelector("hr");
        let elTotal = document.querySelector("#total");

        let numeros = [] //Vetor vazio
        // event é um parâmetro que é passado para toda função associada a um evento no DOM.
        // Quando não precisamos dele(Como em todos os exercícios até agora), podemos ignorá-lo.
        function Adicionar(event){

            //Só quando pressionada a tecla Enter
            if(event.key === 'Enter'){
                //Pegamos o valor do Input e *tentamos* transformar em números
                let num = Number(elNum.value);
                if(! isNaN(num)){ // Se a conversão tiver dado certo.
                    //Adicionar o número ao Vetor.
                    numeros.push(num);
                    // Criar um novo parágrafo para exibir num e
                    // inserir esse parágrafo antes do traço.
                    let paragNum = document.createElement('p');
                    paragNum.textContent = num
                    elFita.insertBefore(paragNum, elTraco);
                    // Percorrer o vetor usando um loop for..of para somar os números e mostrar no total.
                    let soma = 0
                    for(let i of numeros){
                        soma += i
                    }
                    elTotal.textContent = soma
                    // Limpa o input
                    elNum.value = ''
                }
            }
        }
        function Limpar(){
            //Reseta o conteúdo da fita (Recria elementos).
            elFita.innerHTML = '<hr><p id="total">0</p>'
            // Como o traço e o parágrafo do total foram recriados, eles precisam ser capturados novamente
            elTraco = document.querySelector("hr");
            elTotal = document.querySelector("#total");
            //Reiniciando vetor
            numeros = []
            elNum.value = '' // Limpa o input Num
            elNum.focus(); // Coloca o foco no input Num
        }
        // Quando uma tecla for pressionada para baixo no input num (evento Keydown), será invocada a função Adicionar
        elNum.addEventListener('keydown', Adicionar);
        elLimpar.addEventListener('click', Limpar);


    </script>
</body>
</html>